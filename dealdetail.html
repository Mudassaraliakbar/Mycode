<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Deal Details</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="shortcut icon"
      href="assets/images/logomini.png"
      type="image/x-icon"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/deal.css" />
    <link rel="stylesheet" href="css/swiperbullets.css" />
  </head>
  <body>
    <!-- navbar start -->
    <nav
      class="navbar navbar-expand-xl custom-container rounded-4 p-0"
      id="main-navbar"
    >
      <div class="container-fluid p-0">
        <a class="navbar-brand fw-semibold logo" href="index.html">
          <img
            src="assets/images/logo.png"
            alt=""
            width="161"
            height="48"
            class="d-inline-block align-text-center"
          /></a
        >
        <button
          class="navbar-toggler p-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbar-menu"
          aria-controls="navbar-menu"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <img src="assets/svgs/menu.svg" alt="" id="navbar-icon" />
        </button>

        <div
          class="collapse navbar-collapse justify-content-center flex-grow-1"
          id="navbar-menu"
        >
          <ul class="navbar-nav mb-2 mb-xl-0">
            <nav
              class="navbar navbar-expand-xl rounded-4 mobile-nav d-xl-none "
              id="main-navbar"
            >
              <div class="container-fluid m-0 p-0">
                <a class="navbar-brand fw-semibold logo" href="index.html">
                  <img
                    src="assets/images/logo.png"
                    alt=""
                    width="161"
                    height="48"
                    class="d-inline-block align-text-center"
                  />
                </a
                >
                <button
                  class="navbar-toggler p-0"
                  type="button"
                  data-bs-toggle="collapse"
                  data-bs-target="#navbar-menu"
                  aria-controls="navbar-menu"
                  aria-expanded="false"
                  aria-label="Toggle navigation"
                >
                  <img src="assets/svgs/close.svg" alt="" id="navbar-icon" />
                </button>
              </div>
            </nav>

            <li class="nav-item">
              <a
                class="nav-link  fw-normal d-flex justify-content-between"
                href="index.html"
                >Home
                <img
                  src="assets/svgs/chevron-right.svg"
                  alt=""
                  class="d-xl-none"
              /></a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link active-link fw-normal d-flex justify-content-between"
                href="#"
                >Deals
                <img
                  src="assets/svgs/chevron-right.svg"
                  alt=""
                  class="d-xl-none"
              /></a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link fw-normal d-flex justify-content-between"
                href="pastDeal.html"
                >Past Deals
                <img
                  src="assets/svgs/chevron-right.svg"
                  alt=""
                  class="d-xl-none"
              /></a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link fw-normal d-flex justify-content-between"
                href="#"
                >Bald verfugbar
                <img
                  src="assets/svgs/chevron-right.svg"
                  alt=""
                  class="d-xl-none"
              /></a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link fw-normal d-flex justify-content-between"
                href="#"
                >Community
                <img
                  src="assets/svgs/chevron-right.svg"
                  alt=""
                  class="d-xl-none"
              /></a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link fw-normal d-flex justify-content-between"
                href="#"
                >Help
                <img
                  src="assets/svgs/chevron-right.svg"
                  alt=""
                  class="d-xl-none"
              /></a>
            </li>
            <div class="d-block d-xl-none login-btn-mobile mt-4">
              <button class="btn">
                Login <img src="assets/svgs/user-rectangle.svg" alt="" />
              </button>
            </div>
          </ul>
        </div>

        <div class="d-none d-xl-block login-btn">
          <button class="btn">
            Login <img src="assets/svgs/user-rectangle.svg" alt="" />
          </button>
        </div>
      </div>
    </nav>
    <!-- navbar start -->

    <!-- deal details start -->
    <main>
      <section
        class="custom-container"
        style="padding-bottom: 90px"
        id="deal-detail"
      ></section>

      <!-- live deal section start -->
      <section class="custom-container deal">
        <h1 class="fw-semibold text-center heading">Recomended deals</h1>
        <div class="deal-swiper swiper-container">
          <div class="swiper-wrapper" id="secure-deal"></div>

          <!-- Pagination (dots) -->
          <div class="swiper-pagination"></div>
        </div>
      </section>
      <!-- live deal section end -->
    </main>
    <!-- deal details end -->

      <!-- foooter start -->
      <footer class="custom-container">
        <div class="row footer-links">
          <div class="col-12 col-lg-4 footer-about mb-4 mb-lg-0">
            <div class="fw-semibold logo d-flex gap-2 align-items-center mb-4">
              <img
                src="assets/images/logo.png"
                alt=""
                width="161"
                height="48"
                class="d-inline-block align-text-center"
              />
            </div>
            <p class="mb-3">
              Our platform offer buying products through bidding which offer users
              to buy products with there capabilities.
            </p>
            <button class="btn d-flex align-items-center">
              <img src="assets/images/badge.png" alt="" width="26" height="30" />
              <span class="fw-medium text-start"
                >Schweizer Plattform für <br />
                Schweizer Deals</span
              >
            </button>
          </div>
          <div class="col-6 col-lg-2 mb-4 mb-lg-0 legal-links">
            <h5 class="mb-lg-2">Legal Links</h5>
            <a href="#" class="nav-link mb-lg-3">About</a>
            <a href="#" class="nav-link mb-lg-3">Legal Notice</a>
            <a href="#" class="nav-link mb-lg-3">Privacy Policy</a>
            <a href="#" class="nav-link mb-lg-3">Contact</a>
          </div>
          <div class="col-6 col-lg-2 mb-4 mb-lg-0 quick-links">
            <h5 class="mb-lg-2">Quick Links</h5>
            <a href="#" class="nav-link mb-lg-3">FAQ</a>
            <a href="#" class="nav-link mb-lg-3">Deals</a>
            <a href="#" class="nav-link mb-lg-3">Community</a>
          </div>
          <div class="col-12 col-lg-4 mt-4 mt-lg-0">
            <h4 class="fs-lg-4 fw-medium mb-lg-3 mb-1">
              Subscribe to our Newsletter
            </h4>
            <form class="mb-lg-3 mb-2 border-bottom pb-3" style="border-color: rgba(255, 255, 255, 0.4) !important;">
              <div class="input-group">
                <img src="assets/svgs/envalop.svg" alt="" />
                <input
                  type="email"
                  class="form-control bg-transparent border-0 text-white"
                  placeholder="Type your e-mail"
                />
                <button class="btn px-1" type="submit">
                  <img src="assets/svgs/right-arrow.svg" alt="" />
                </button>
              </div>
            </form>
            <p class="small mt-lg-1" style="color:rgba(255, 255, 255, 0.8) !important">
              Subscribe to our newsletter get weekly offers directly into your
              email
            </p>
          </div>
        </div>
        <div
          class="copy-right d-flex justify-content-lg-between gap-0 flex-column flex-lg-row align-items-center"
        >
          <p>Copyright by Dealfox © 2025</p>
          <div class="d-flex gap-3">
            <a href="#" class="nav-link">
              <img src="assets/svgs/instagram.svg" alt="" />
            </a>
            <a href="#" class="nav-link">
              <img src="assets/svgs/twitter.svg" alt="" />
            </a>
            <a href="#" class="nav-link">
              <img src="assets/svgs/facebook.svg" alt="" />
            </a>
          </div>
        </div>
      </footer>
      <!-- foooter end -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="js/data.js"></script>
    <script src="js/dealswiper.js"></script>
    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const id = urlParams.get("id");
      
      function formatToReadableDate(isoDateStr) {
        const date = new Date(isoDateStr);
        const options = { year: "numeric", month: "long", day: "numeric" };
        return date.toLocaleDateString("en-US", options);
      }

      const selectedDeal = deal.find((item) => item.id == id);
      const dealDetails = document.getElementById("deal-detail");
      
      const targetDate = new Date(selectedDeal.end_time).getTime();

      const countdown = setInterval(() => {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance < 0) {
          clearInterval(countdown);
          document.getElementById("countdown").innerHTML = "EXPIRED";
          return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        document.getElementById("days").innerText = String(days).padStart(
          2,
          "0"
        );
        document.getElementById("hours").innerText = String(hours).padStart(
          2,
          "0"
        );
        document.getElementById("minutes").innerText = String(minutes).padStart(
          2,
          "0"
        );
        document.getElementById("seconds").innerText = String(seconds).padStart(
          2,
          "0"
        );
      }, 1000);

      dealDetails.innerHTML = `
        <div
          class="d-flex deal-details align-items-stretch gap-lg-5 gap-4 justify-content-between flex-column flex-lg-row"
        >
          <div class="deal-image position-relative">
            <img
              src="assets/images/premium-deal-badge.png"
              alt=""
              class="deal-page-badge position-absolute"
            />
            <img
              src=${selectedDeal.image}
              alt=""
              class="w-100"
              class="deal-banner"
            />
          </div>
          <div class="p-0 m-0 deal-content">
            <div class="d-flex align-items-center gap-1">
              <span style="color:rgba(255,255,255,0.8) !important;">Home</span>
              <img src="assets/svgs/chevron-right.svg" alt="" />
              <span>deal detail page</span>
            </div>
            <div class="mt-4 row align-items-center count-down">
              <h5 class="col-4 fw-medium">This week only! Ends 9/25.</h5>
              <div class="detail-time-counter col-7 d-flex" id="countdown">
                <div
                  class="d-flex flex-column text-center justify-content-center"
                >
                  <span class="fw-medium" id="days">00</span><span>Days</span>
                </div>
                <div
                  class="d-flex flex-column text-center justify-content-center"
                >
                  <span class="fw-medium" id="hours">00</span><span>Hours</span>
                </div>
                <div
                  class="d-flex flex-column text-center justify-content-center"
                >
                  <span class="fw-medium" id="minutes">00</span
                  ><span>Mins</span>
                </div>
                <div
                  class="d-flex flex-column text-center justify-content-center"
                >
                  <span class="fw-medium" id="seconds">00</span
                  ><span>Secs</span>
                </div>
              </div>
            </div>
            <div class="seller-details mt-4 px-4 py-3">
                <h1 class="fw-semibold fs-1 my-3">${selectedDeal.product_name}</h1>
              <div
                class="d-flex justify-content-between align-items-center mb-1"
              >
                <div class="seller-status fw-normal d-flex gap-1">
                  by
                  <div class="position-relative" style="height: 24px">
                    <div
                      class="status rounded-pill position-absolute"
                      style="
                        height: 8px;
                        width: 8px;
                        border: 2px solid white;
                        background-color: #00ba34;
                        right: 0;
                        bottom: 0;
                      "
                    ></div>
                    <img
                      src=${selectedDeal?.user?.image}
                      alt=""
                      width="24px"
                      height="24px"
                      class="rounded-pill"
                    />
                  </div>
                  <span class="fw-semibold text-capitalize">${selectedDeal?.user?.name}</span>
                </div>
                <a href="#"><img src="assets/svgs/share.svg" alt="" /></a>
              </div>
              <div class="about-seller d-flex gap-1 align-items-center">
                <span class="fw-normal"
                  >New seller (3 months), Trust Level 2, no sales/purchases
                  yet.</span
                >
                <img
                  src="assets/svgs/info.svg"
                  alt="Info"
                  data-bs-toggle="tooltip"
                  data-bs-placement="bottom"
                  title="Tooltip "
                />
              </div>
            </div>

            <hr class="my-3 my-lg-4" style="height: 1px" />

            <div class="auction">
              <h5
                class="mb-4 fw-medium"
                style="font-size: 18px; letter-spacing: -2%"
              >
                Auction
              </h5>
              <div class="d-flex justify-content-between mb-1">
                <h6 class="fw-normal">Market price</h6>
                <h4 class="fw-bold">${selectedDeal?.deal_price}</h4>
              </div>
              <div class="d-flex justify-content-between mb-1 mt-2">
                <h6 class="fw-normal">Minimum price</h6>
                <h4 class="fw-bold">${selectedDeal?.deal_min_price}</h4>
              </div>
              <div class="d-flex justify-content-between mb-1 mt-2">
                <h6 class="fw-normal">Bids</h6>
                <h4 class="fw-bold">${selectedDeal?.bids}</h4>
              </div>
              <div class="d-flex justify-content-between mt-2">
                <h6 class="fw-normal">Bidders</h6>
                <h4 class="fw-bold">${selectedDeal?.bidders}</h4>
              </div>
            </div>

          <a href="bid.html?id=${selectedDeal.id}">  <button
              class="fs-5 btn w-100 py-3 mt-4"
              style="background-color: #ff8926; border-radius: 19px"
            >
              Bid now
            </button></a>

            <hr class="mt-3 my-lg-4" style="height: 1px" />
          </div>
        </div>

        <div class="d-flex gap-lg-5 gap-4 flex-column flex-lg-row-reverse">
          <div class="ratings">
            <div class="deal-date mb-3 justify-content-between d-flex">
              <span>Since: 25-03-2025 12:41:17</span>
              <span>Ident: 0e</span>
              <span>Vists: 24</span>
            </div>
            <div class="d-flex rating-cards gap-2">
              <div
                class="rounded-3 d-flex flex-column justify-content-center align-items-center w-100"
              >
                <img src="assets/images/3dplus.png" alt="" />
                <span class="text-center fw-medium fs-6 mt-2"
                  >100% Swiss <br />
                  Providers</span
                >
              </div>
              <div
                class="rounded-3 d-flex flex-column justify-content-center align-items-center w-100"
              >
                <img src="assets/images/3dstar.png" alt="" />
                <span class="text-center fw-medium fs-6 mt-2"
                  >4.7 <br />
                  Rating</span
                >
              </div>
              <div
                class="rounded-3 d-flex flex-column justify-content-center align-items-center w-100"
              >
                <img src="assets/svgs/avatar.svg" alt="" />
                <span class="text-center fw-medium fs-6 mt-2"
                  >190k+ <br />
                  Users</span
                >
              </div>
              
            
            </div>
          </div>

          <div class="deal-accordings">
            <div class="accordion w-100" id="overviewAccordion">
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button collapsed w-100 fw-medium p-3"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#overview-collaps"
                    aria-expanded="false"
                    aria-controls="overview-collaps"
                  >
                    Overview
                  </button>
                </h2>
                <div
                  id="overview-collaps"
                  class="accordion-collapse collapse"
                  data-bs-parent="#overviewAccordion"
                >
                  <div class="accordion-body fw-normal">
                  ${selectedDeal?.overview}
                  </div>
                </div>
              </div>
            </div>

            
            <div class="accordion w-100" id="qaAccordion">
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button
                    class="accordion-button collapsed w-100 fw-medium p-3"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#qa-collaps"
                    aria-expanded="false"
                    aria-controls="qa-collaps"
                  >
                    Questions & Answers
                  </button>
                </h2>
                <div
                  id="qa-collaps"
                  class="accordion-collapse collapse"
                  data-bs-parent="#qaAccordion"
                >
                  <div class="accordion-body">
                    ${selectedDeal.question_answer
                      .map(
                        (qa) => `
                      <div>
                      <div class="question-section">
                        <p class="question" style="
  color: rgba(255,255,255,0.8) !important;
                        ">
                         ${qa.question}
                        </p>
                        <div
                          class="author-details d-flex gap-3 align-items-center"
                        >
                          <span class="author-name fw-medium fs-6 text-capitalize">${
                            qa.name
                          }</span>
                          <div
                            style="
                              width: 1px;
                              height: 12px;
                              background-color: #e8e8e8;
                            "
                          ></div>
                          <span class="fw-normal" style="font-size: 13px;
                            color: rgba(255,255,255,0.8) !important;
                          "
                            >${formatToReadableDate(qa.created_at)}</span
                          >
                        </div>
                        <hr class="my-4" />
                      </div>
                      <div class="ans-section" style="margin-left: 50px">
                        ${qa.answer.map((ans) => `
                        <p class="ans">
                          ${ans.answer}
                        </p>
                        <div
                          class="author-details d-flex gap-3 align-items-center"
                        >
                          <span class="author-name fw-medium fs-6 text-capitalize">ichet</span>
                          <div
                            style="
                              width: 1px;
                              height: 12px;
                              background-color: #e8e8e8;
                            "
                          ></div>
                             <span class="fw-normal" style="font-size: 13px;
                               color: rgba(255,255,255,0.8) !important;
                             "
                            >${formatToReadableDate(qa.created_at)}</span
                          >
                        </div>
                        <hr class="my-3" />
                    `
                      )
                      .join("")}
                      
                      </div>
                      `
                    )
                    .join("")}
                    </div>
                   
                  </div>

                  <div class="w-100 d-flex justify-content-center">
                  
                    <button
                      class="btn"
                      type="button"
                      disabled
                      style="border: none"
                    >
                      <span
                        class="spinner-border spinner-border-sm"
                        style="border-width: 0.15em"
                        aria-hidden="true"
                      ></span>
                      <span role="status" class="fs-6">Loading...</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    </script>
  </body>
</html>


<!-- <button
class="fs-6 btn w-25 py-2 mt-4"
style="background-color: #ff8926; border-radius: 9px"
>
View more
<img src="assets/svgs/chevron-right.svg" alt="" />
</button> -->